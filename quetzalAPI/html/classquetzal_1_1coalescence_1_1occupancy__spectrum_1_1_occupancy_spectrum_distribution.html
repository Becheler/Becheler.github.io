<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>QUETZAL: quetzal::coalescence::occupancy_spectrum::OccupancySpectrumDistribution&lt; UnaryPredicate, SpectrumHandler, Int, Float &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QUETZAL
   </div>
   <div id="projectbrief">The Coalescence Template Library</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">quetzal::coalescence::occupancy_spectrum::OccupancySpectrumDistribution&lt; UnaryPredicate, SpectrumHandler, Int, Float &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__coalescence.html">coalescence</a> &raquo; <a class="el" href="group__coal__spectrum.html">Occupancy Spectrum</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Generates random occupancy spectrum that are distributed according to the associated probability function given by von Mises (1939). The entropy is acquired by calling g.operator().  
 <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_occupancy_spectrum_distribution_8h_source.html">OccupancySpectrumDistribution.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a72594bdf23322be6176bf8d202cf4ba2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a72594bdf23322be6176bf8d202cf4ba2.html#a72594bdf23322be6176bf8d202cf4ba2">OccupancySpectrumDistribution</a> ()=default</td></tr>
<tr class="memdesc:a72594bdf23322be6176bf8d202cf4ba2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a72594bdf23322be6176bf8d202cf4ba2.html#a72594bdf23322be6176bf8d202cf4ba2">More...</a><br /></td></tr>
<tr class="separator:a72594bdf23322be6176bf8d202cf4ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf916dd78a0fd0213291d5d948867f1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_acf916dd78a0fd0213291d5d948867f1f.html#acf916dd78a0fd0213291d5d948867f1f">OccupancySpectrumDistribution</a> (unsigned int <a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a25a9f4dadddc819c1d919b8d909f9f78.html#a25a9f4dadddc819c1d919b8d909f9f78">n</a>, unsigned int <a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a40e33e25d8b48f81e7c5af581d201c2a.html#a40e33e25d8b48f81e7c5af581d201c2a">m</a>, UnaryPredicate pred=UnaryPredicate())</td></tr>
<tr class="memdesc:acf916dd78a0fd0213291d5d948867f1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the occupancy spectrum distribution resulting from throwing n balls into m urns.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_acf916dd78a0fd0213291d5d948867f1f.html#acf916dd78a0fd0213291d5d948867f1f">More...</a><br /></td></tr>
<tr class="separator:acf916dd78a0fd0213291d5d948867f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ba37cd2458e1c7bab640ee2936b6ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_ac4ba37cd2458e1c7bab640ee2936b6ab.html#ac4ba37cd2458e1c7bab640ee2936b6ab">OccupancySpectrumDistribution</a> (const <a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html">SelfType</a> &amp;)=delete</td></tr>
<tr class="memdesc:ac4ba37cd2458e1c7bab640ee2936b6ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_ac4ba37cd2458e1c7bab640ee2936b6ab.html#ac4ba37cd2458e1c7bab640ee2936b6ab">More...</a><br /></td></tr>
<tr class="separator:ac4ba37cd2458e1c7bab640ee2936b6ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa807e3bf405ef7ebfe74e89f7420c567"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_aa807e3bf405ef7ebfe74e89f7420c567.html#aa807e3bf405ef7ebfe74e89f7420c567">OccupancySpectrumDistribution</a> (<a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html">SelfType</a> &amp;&amp;)=default</td></tr>
<tr class="memdesc:aa807e3bf405ef7ebfe74e89f7420c567"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move constructor.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_aa807e3bf405ef7ebfe74e89f7420c567.html#aa807e3bf405ef7ebfe74e89f7420c567">More...</a><br /></td></tr>
<tr class="separator:aa807e3bf405ef7ebfe74e89f7420c567"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab571eac21c7b82225c35dd05190a0ea1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html">SelfType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_ab571eac21c7b82225c35dd05190a0ea1.html#ab571eac21c7b82225c35dd05190a0ea1">operator=</a> (<a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html">SelfType</a> &amp;&amp;)=default</td></tr>
<tr class="memdesc:ab571eac21c7b82225c35dd05190a0ea1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move assignment operator.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_ab571eac21c7b82225c35dd05190a0ea1.html#ab571eac21c7b82225c35dd05190a0ea1">More...</a><br /></td></tr>
<tr class="separator:ab571eac21c7b82225c35dd05190a0ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53eba52f279ec9ce57b0e3a113b3eda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html">SelfType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_ad53eba52f279ec9ce57b0e3a113b3eda.html#ad53eba52f279ec9ce57b0e3a113b3eda">operator=</a> (const <a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html">SelfType</a> &amp;)=delete</td></tr>
<tr class="memdesc:ad53eba52f279ec9ce57b0e3a113b3eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy assignment operator.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_ad53eba52f279ec9ce57b0e3a113b3eda.html#ad53eba52f279ec9ce57b0e3a113b3eda">More...</a><br /></td></tr>
<tr class="separator:ad53eba52f279ec9ce57b0e3a113b3eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfcd40ffe3bf4976df35721fd8ee9f3d"><td class="memTemplParams" colspan="2">template&lt;typename Generator &gt; </td></tr>
<tr class="memitem:acfcd40ffe3bf4976df35721fd8ee9f3d"><td class="memTemplItemLeft" align="right" valign="top">const spectrum_type &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_acfcd40ffe3bf4976df35721fd8ee9f3d.html#acfcd40ffe3bf4976df35721fd8ee9f3d">operator()</a> (<a class="el" href="structquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_generator.html">Generator</a> &amp;g) const </td></tr>
<tr class="memdesc:acfcd40ffe3bf4976df35721fd8ee9f3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates random occupancy spectrum that are distributed according to the associated probability function given by von Mises (1939). The entropy is acquired by calling g.operator().  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_acfcd40ffe3bf4976df35721fd8ee9f3d.html#acfcd40ffe3bf4976df35721fd8ee9f3d">More...</a><br /></td></tr>
<tr class="separator:acfcd40ffe3bf4976df35721fd8ee9f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a9f4dadddc819c1d919b8d909f9f78"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a25a9f4dadddc819c1d919b8d909f9f78.html#a25a9f4dadddc819c1d919b8d909f9f78">n</a> () const </td></tr>
<tr class="memdesc:a25a9f4dadddc819c1d919b8d909f9f78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the number of balls that are thrown in the random experience.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a25a9f4dadddc819c1d919b8d909f9f78.html#a25a9f4dadddc819c1d919b8d909f9f78">More...</a><br /></td></tr>
<tr class="separator:a25a9f4dadddc819c1d919b8d909f9f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e33e25d8b48f81e7c5af581d201c2a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a40e33e25d8b48f81e7c5af581d201c2a.html#a40e33e25d8b48f81e7c5af581d201c2a">m</a> () const </td></tr>
<tr class="memdesc:a40e33e25d8b48f81e7c5af581d201c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the number of urns used in the random experience.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a40e33e25d8b48f81e7c5af581d201c2a.html#a40e33e25d8b48f81e7c5af581d201c2a">More...</a><br /></td></tr>
<tr class="separator:a40e33e25d8b48f81e7c5af581d201c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46af3cfd1da99a2f4bab2363bf4b69ca"><td class="memItemLeft" align="right" valign="top">const support_type &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a46af3cfd1da99a2f4bab2363bf4b69ca.html#a46af3cfd1da99a2f4bab2363bf4b69ca">support</a> () const </td></tr>
<tr class="memdesc:a46af3cfd1da99a2f4bab2363bf4b69ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve occupancy spectra constituting the support of the distribution.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a46af3cfd1da99a2f4bab2363bf4b69ca.html#a46af3cfd1da99a2f4bab2363bf4b69ca">More...</a><br /></td></tr>
<tr class="separator:a46af3cfd1da99a2f4bab2363bf4b69ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e7e99bb03da133e5d142fe1a4044176"><td class="memItemLeft" align="right" valign="top">const probabilities_type &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a0e7e99bb03da133e5d142fe1a4044176.html#a0e7e99bb03da133e5d142fe1a4044176">weights</a> () const </td></tr>
<tr class="memdesc:a0e7e99bb03da133e5d142fe1a4044176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the weights associated to the random experience. They do not necessarily sum to 1.  <a href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a0e7e99bb03da133e5d142fe1a4044176.html#a0e7e99bb03da133e5d142fe1a4044176">More...</a><br /></td></tr>
<tr class="separator:a0e7e99bb03da133e5d142fe1a4044176"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a05d0b9372e0cfbf2f737e0484997c27a"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a05d0b9372e0cfbf2f737e0484997c27a.html#a05d0b9372e0cfbf2f737e0484997c27a">operator&lt;&lt;</a> (std::ostream &amp;os, <a class="el" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html">SelfType</a> const &amp;dist)</td></tr>
<tr class="separator:a05d0b9372e0cfbf2f737e0484997c27a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class UnaryPredicate = ReturnAlwaysTrue, class SpectrumHandler = Identity, class Int = cpp_int, class Float = cpp_dec_float_50&gt;<br />
class quetzal::coalescence::occupancy_spectrum::OccupancySpectrumDistribution&lt; UnaryPredicate, SpectrumHandler, Int, Float &gt;</h3>

<p>Generates random occupancy spectrum that are distributed according to the associated probability function given by von Mises (1939). The entropy is acquired by calling g.operator(). </p>
<dl class="section remark"><dt>Remarks</dt><dd>The probability of an occupancy spectrum is described in the book "Urn models and their application: an approach
        to modern discrete probability theory" (by John and Kotz, 1977, p.115). </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">UnaryPredicate</td><td>Function object class acting as a predicate, taking the probability of the spectrum as argument and returning a boolean. The signature should be <code>bool UnaryPredicate::operator()(double)</code> The number of possible configurations grows very fast with n and m, so memorizing all of them quickly becomes intractable. As most of the configurations have extremely low output probability, you can choose to filter the spectrum according to their sampling probability, keeping only those which probability is superior to a given threshold (or other criterion). If the predicate is evaluated to true, the spectrum and its probability will be saved in the distribution. If the predicate is evaluated to false, the spectrum and its probability will be discarded. By default, <a class="el" href="structquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_return_always_true.html">ReturnAlwaysTrue</a> policy is used, so all spectra are kept. </td></tr>
    <tr><td class="paramname">SpectrumHandler</td><td>Function object class modifying the spectrum to optimize speed and memory use. The signature should be <code>OccupancySpectrum SpectrumHandler::operator()(OccupancySpectrum &amp;&amp;)</code>. By default the <a class="el" href="structquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_identity.html">Identity</a> policy wil not modify the spectra. The <a class="el" href="structquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_retrieve_last_empty_urns.html">RetrieveLastEmptyUrns</a> will retrieve all the last urns that are empty, making later iteration over a spectrum faster. </td></tr>
    <tr><td class="paramname">Int</td><td>A big integer class for probability computation </td></tr>
    <tr><td class="paramname">FLoat</td><td>A big float class for probability computation </td></tr>
  </table>
  </dd>
</dl>
<h1><a class="anchor" id="Example"></a>
Example</h1>
<div class="fragment"><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;random&gt;</span>    <span class="comment">// std::mt19937</span></div><div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span> <span class="comment">// std::accumulate</span></div><div class="line"><span class="keywordtype">int</span> <a class="code" href="example1_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>(){</div><div class="line"></div><div class="line">  <span class="keyword">using</span> <a class="code" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution.html">quetzal::coalescence::occupancy_spectrum::OccupancySpectrumDistribution</a>;</div><div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a25a9f4dadddc819c1d919b8d909f9f78.html#a25a9f4dadddc819c1d919b8d909f9f78">n</a> = 5;</div><div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_occupancy_spectrum_distribution_a40e33e25d8b48f81e7c5af581d201c2a.html#a40e33e25d8b48f81e7c5af581d201c2a">m</a> = 10;</div><div class="line"></div><div class="line">  OccupancySpectrumDistribution&lt;&gt; dist1(n, m);</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Throwing &quot;</span> &lt;&lt; dist1.n() &lt;&lt; <span class="stringliteral">&quot; balls in &quot;</span> &lt;&lt; dist1.m() &lt;&lt; <span class="stringliteral">&quot; urns.\n&quot;</span>;</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Full distribution: &quot;</span></div><div class="line">            &lt;&lt; dist1.support().size() &lt;&lt; <span class="stringliteral">&quot; configurations and weights sum to &quot;</span></div><div class="line">            &lt;&lt; std::accumulate(dist1.weights().begin(), dist1.weights().end(), 0.0)</div><div class="line">            &lt;&lt; std::endl;</div><div class="line"></div><div class="line">   std::cout &lt;&lt; dist1 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Sample from it :</span></div><div class="line">  std::mt19937 g;</div><div class="line">  <span class="keyword">auto</span> spectrum = dist1(g);</div><div class="line"></div><div class="line">  <span class="comment">// Truncate the empty spectrum for memory optimization</span></div><div class="line">  <span class="keyword">using</span> <a class="code" href="structquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_retrieve_last_empty_urns.html">quetzal::coalescence::occupancy_spectrum::RetrieveLastEmptyUrns</a>;</div><div class="line">  <span class="keyword">using</span> <a class="code" href="structquetzal_1_1coalescence_1_1occupancy__spectrum_1_1_return_always_true.html">quetzal::coalescence::occupancy_spectrum::ReturnAlwaysTrue</a>;</div><div class="line">  OccupancySpectrumDistribution&lt;ReturnAlwaysTrue, RetrieveLastEmptyUrns&gt; dist2(n, m);</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Shorten spectra:\n&quot;</span> &lt;&lt; dist2 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Filter the occupancy spectrum with small probability.</span></div><div class="line">  <span class="keyword">auto</span> pred = [](<span class="keywordtype">double</span> p){</div><div class="line">    <span class="keywordtype">bool</span> keep = <span class="keyword">false</span>;</div><div class="line">    <span class="keywordflow">if</span>(p &gt; 0.01){ keep = <span class="keyword">true</span>; }</div><div class="line">    <span class="keywordflow">return</span> keep;</div><div class="line">  };</div><div class="line">  OccupancySpectrumDistribution&lt;decltype(pred)&gt; dist3(n, m, pred);</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Truncated distribution:\n&quot;</span> &lt;&lt; dist3 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="comment">// Combine strategies</span></div><div class="line">  OccupancySpectrumDistribution&lt;decltype(pred), RetrieveLastEmptyUrns&gt; dist4(n, m, pred);</div><div class="line">  std::cout &lt;&lt; <span class="stringliteral">&quot;Combined strategies:\n&quot;</span> &lt;&lt; dist4 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span> &lt;&lt; std::endl;</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> 0;</div><div class="line">}</div><div class="line"></div></div><!-- fragment --><h1><a class="anchor" id="Output"></a>
Output</h1>
<div class="fragment"><div class="line">Throwing 5 balls in 10 urns.</div><div class="line">Full distribution: 7 configurations and weights sum to 1</div><div class="line">P(  [9, 0, 0, 0, 0, 1, ]  ) = 0.0001</div><div class="line">P(  [8, 1, 0, 0, 1, 0, ]  ) = 0.0045</div><div class="line">P(  [8, 0, 1, 1, 0, 0, ]  ) = 0.009</div><div class="line">P(  [7, 2, 0, 1, 0, 0, ]  ) = 0.072</div><div class="line">P(  [7, 1, 2, 0, 0, 0, ]  ) = 0.108</div><div class="line">P(  [6, 3, 1, 0, 0, 0, ]  ) = 0.504</div><div class="line">P(  [5, 5, 0, 0, 0, 0, ]  ) = 0.3024</div><div class="line"></div><div class="line"></div><div class="line">Shorten spectra:</div><div class="line">P(  [9, 0, 0, 0, 0, 1, ]  ) = 0.0001</div><div class="line">P(  [8, 1, 0, 0, 1, ] ) = 0.0045</div><div class="line">P(  [8, 0, 1, 1, ]    ) = 0.009</div><div class="line">P(  [7, 2, 0, 1, ]    ) = 0.072</div><div class="line">P(  [7, 1, 2, ]   ) = 0.108</div><div class="line">P(  [6, 3, 1, ]   ) = 0.504</div><div class="line">P(  [5, 5, ]  ) = 0.3024</div><div class="line"></div><div class="line"></div><div class="line">Truncated distribution:</div><div class="line">P(  [7, 2, 0, 1, 0, 0, ]  ) = 0.072</div><div class="line">P(  [7, 1, 2, 0, 0, 0, ]  ) = 0.108</div><div class="line">P(  [6, 3, 1, 0, 0, 0, ]  ) = 0.504</div><div class="line">P(  [5, 5, 0, 0, 0, 0, ]  ) = 0.3024</div><div class="line"></div><div class="line"></div><div class="line">Combined strategies:</div><div class="line">P(  [7, 2, 0, 1, ]    ) = 0.072</div><div class="line">P(  [7, 1, 2, ]   ) = 0.108</div><div class="line">P(  [6, 3, 1, ]   ) = 0.504</div><div class="line">P(  [5, 5, ]  ) = 0.3024</div><div class="line"></div><div class="line"></div></div><!-- fragment --> </div><hr/>The documentation for this class was generated from the following file:<ul>
<li>quetzal/modules/coalescence/occupancy_spectrum/<a class="el" href="_occupancy_spectrum_distribution_8h_source.html">OccupancySpectrumDistribution.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <div class="contact"><a href="mailto:Arnaud.Becheler@egce.cnrs-gif.fr">Contact</a> </div>
</div>
</body>
</html>
